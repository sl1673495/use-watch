(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./example/index.css":function(e,n,t){},"./src/index.mdx":function(e,n,t){"use strict";t.r(n);var c=t("./node_modules/_@babel_runtime@7.7.4@@babel/runtime/helpers/esm/extends.js"),r=t("./node_modules/_@babel_runtime@7.7.4@@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=t("react"),u=t.n(o),a=t("./node_modules/_@mdx-js_react@1.5.1@@mdx-js/react/dist/index.es.js");function s(e,n){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{immediate:!1}).immediate,c=Object(o.useRef)(),r=Object(o.useRef)(!1),u=Object(o.useRef)(!1);return Object(o.useEffect)((function(){var o=function(){return n(c.current)};u.current||(r.current?o():(r.current=!0,t&&o()),c.current=e)}),[e]),function(){u.current=!0}}var i=s;s&&s===Object(s)&&Object.isExtensible(s)&&Object.defineProperty(s,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useWatch",filename:"src/index.ts"}});var l=t("./node_modules/_@babel_runtime@7.7.4@@babel/runtime/helpers/esm/slicedToArray.js"),b=(t("./example/index.css"),function(){var e=Object(o.useState)(),n=Object(l.a)(e,2),t=n[0],c=n[1],r=Object(o.useState)(0),a=Object(l.a)(r,2),s=a[0],b=a[1],m=i(s,(function(e){console.log("prevCount: ",e),console.log("currentCount: ",s),c(e)}));return u.a.createElement("div",null,u.a.createElement("p",null," \u5f53\u524d\u7684count\u662f",s),u.a.createElement("p",null," \u524d\u4e00\u6b21\u7684count\u662f",t),s,u.a.createElement("button",{onClick:function(){return b((function(e){return e+1}))},className:"btn"},"+"),u.a.createElement("button",{onClick:m,className:"btn"},"\u505c\u6b62\u89c2\u5bdf\u65e7\u503c"))}),m=b;b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"App",filename:"example/index.tsx"}}),t.d(n,"default",(function(){return f}));var p={},d="wrapper";function f(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(a.b)(d,Object(c.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"\u4f7f\u7528\u65b9\u6cd5"},"\u4f7f\u7528\u65b9\u6cd5"),Object(a.b)("pre",null,Object(a.b)("code",Object(c.a)({parentName:"pre"},{className:"language-tsx"}),"import React, { useState } from 'react';\nimport useWatch from '../src'\nimport './index.css'\n\nconst App: React.FC = () => {\n  const [prev, setPrev] = useState()\n  const [count, setCount] = useState(0);\n\n  const stop = useWatch(count, (prevCount) => {\n    console.log('prevCount: ', prevCount);\n    console.log('currentCount: ', count);\n    setPrev(prevCount)\n  })\n\n  const add = () => setCount(prevCount => prevCount + 1)\n\n  return (\n    <div>\n      <p> \u5f53\u524d\u7684count\u662f{count}</p>\n      <p> \u524d\u4e00\u6b21\u7684count\u662f{prev}</p>\n      {count}\n      <button onClick={add} className=\"btn\">+</button>\n      <button onClick={stop} className=\"btn\">\u505c\u6b62\u89c2\u5bdf\u65e7\u503c</button>\n    </div>\n  )\n}\n\nexport default App\n")),Object(a.b)("h1",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),Object(a.b)(m,{mdxType:"App"}))}f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/index.mdx"}}),f.isMDXComponent=!0}}]);